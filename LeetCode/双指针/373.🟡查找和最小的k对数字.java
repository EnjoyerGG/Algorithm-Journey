//é¢˜ç›®ï¼šç»™å®šä¸¤ä¸ªä»¥ éé€’å‡é¡ºåºæ’åˆ— çš„æ•´æ•°æ•°ç»„ nums1 å’Œ nums2 , ä»¥åŠä¸€ä¸ªæ•´æ•° kã€‚
//å®šä¹‰ä¸€å¯¹å€¼ (u,v)ï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ æ¥è‡ª nums1ï¼Œç¬¬äºŒä¸ªå…ƒç´ æ¥è‡ª nums2ã€‚
//è¯·æ‰¾åˆ°å’Œæœ€å°çš„ k ä¸ªæ•°å¯¹ (u1,v1),  (u2,v2)  ...  (uk,vk)ã€‚

//æ€è·¯ï¼šåŒæŒ‡é’ˆï¼Œé“¾è¡¨
//æ˜¯å‰æ–‡23.ğŸŸ¡åˆå¹¶Kä¸ªå‡åºé“¾è¡¨çš„å˜ä½“ã€‚

/*
è¾“å…¥: nums1 = [1,7,11], nums2 = [2,4,6], k = 3
è¾“å‡º: [1,2],[1,4],[1,6]
è§£é‡Š: è¿”å›åºåˆ—ä¸­çš„å‰ 3 å¯¹æ•°ï¼š
     [1,2],[1,4],[1,6],[7,2],[7,4],[11,2],[7,6],[11,4],[11,6]

è¾“å…¥: nums1 = [1,1,2], nums2 = [1,2,3], k = 2
è¾“å‡º: [1,1],[1,1]
è§£é‡Š: è¿”å›åºåˆ—ä¸­çš„å‰ 2 å¯¹æ•°ï¼š
     [1,1],[1,1],[1,2],[2,1],[1,2],[2,2],[1,3],[1,3],[2,3]

æç¤º:
1 <= nums1.length, nums2.length <= 105
-109 <= nums1[i], nums2[i] <= 109
nums1 å’Œ nums2 å‡ä¸º å‡åºæ’åˆ—
1 <= k <= 104
k <= nums1.length * nums2.length
*/

/*
å˜æˆæœ‰åºé“¾è¡¨çš„æ­¥éª¤ï¼šnums1 = [1,7,11], nums2 = [2,4,6]å˜ä¸ºï¼š
[1, 2] -> [1, 4] -> [1, 6]
[7, 2] -> [7, 4] -> [7, 6]
[11, 2] -> [11, 4] -> [11, 6]
è¿™ä¸‰ä¸ªé“¾è¡¨ä¸­æ¯ä¸ªå…ƒç´ ï¼ˆæ•°å¯¹ä¹‹å’Œï¼‰æ˜¯é€’å¢çš„ï¼Œæ‰€ä»¥å°±å¯ä»¥æŒ‰ç…§ 23. åˆå¹¶Kä¸ªå‡åºé“¾è¡¨ çš„æ€è·¯æ¥åˆå¹¶ï¼Œå–å‡ºå‰ k ä¸ªä½œä¸ºç­”æ¡ˆå³å¯ã€‚
*/

class Solution{
     public List<List<Integer>> kSmallestPairs(int[] nums1, int[] nums2, int k){
          //å­˜å‚¨ä¸‰å…ƒç»„(nums1[i], nums2[i], i)
          //iè®°å½•nums2å…ƒç´ çš„ç´¢å¼•ä½ç½®ï¼Œç”¨äºç”Ÿæˆä¸‹ä¸€ä¸ªèŠ‚ç‚¹
          PriorityQueue<int[]> pq = new PriorityQueue<>((a,b)->{
               //æŒ‰ç…§æ•°å¯¹çš„å…ƒç´ å’Œå‡åºæ’åº
               return (a[0]+a[1])-(b[0]+b[1]);
          });

          //åˆå§‹åŒ–ä¼˜å…ˆçº§é˜Ÿåˆ—
          for(int i=0; i<nums1.length; i++){
               pq.offer(new int[]{nums1[i], nums2[0], 0});
          }

          List<List<Integer>> res = new ArrayList<>();
          //æ‰§è¡Œåˆå¹¶å¤šä¸ªæœ‰åºé“¾è¡¨çš„é€»è¾‘
          while(!pq.isEmpty() && k>0){
               int[] cur = pq.poll();
               k--;
               //é“¾è¡¨ä¸­çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹åŠ å…¥ä¼˜å…ˆçº§é˜Ÿåˆ—
               int next_index = cur[2]+1;
               if(next_index<nums2.length){
                    pq.add(new int[]{cur[0], nums2[next_index], next_index});
               }

               List<Integer> pair = new ArrayList<>();
               pair.add(cur[0]);
               pair.add(cur[1]);
               res.add(pair);
          }
          return res;
     }
}
